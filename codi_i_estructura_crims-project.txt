ESTRUCTURA DEL PROJECTE (./src)

â”œâ”€â”€ .ai
â”‚   â”œâ”€â”€ context
â”‚   â”‚   â””â”€â”€ architecture.md
â”‚   â””â”€â”€ skills
â”‚       â”œâ”€â”€ skill-documentation.md
â”‚       â”œâ”€â”€ skill-golang.md
â”‚       â”œâ”€â”€ skill-nextjs.md
â”‚       â”œâ”€â”€ skill-pocketbase.md
â”‚       â”œâ”€â”€ skill-security.md
â”‚       â””â”€â”€ skill-tdd.md
â”œâ”€â”€ AGENTS.md
â”œâ”€â”€ backend
â”‚   â”œâ”€â”€ AGENTS.md
â”‚   â”œâ”€â”€ cmd
â”‚   â”‚   â””â”€â”€ server
â”‚   â”‚       â””â”€â”€ main.go
â”‚   â”œâ”€â”€ go.mod
â”‚   â”œâ”€â”€ go.sum
â”‚   â””â”€â”€ internal
â”‚       â”œâ”€â”€ adapters
â”‚       â”‚   â”œâ”€â”€ http
â”‚       â”‚   â”‚   â””â”€â”€ router.go
â”‚       â”‚   â””â”€â”€ repo_pb
â”‚       â”œâ”€â”€ domain
â”‚       â”‚   â””â”€â”€ models.go
â”‚       â”œâ”€â”€ middleware
â”‚       â”‚   â”œâ”€â”€ auth.go
â”‚       â”‚   â””â”€â”€ logger.go
â”‚       â”œâ”€â”€ platform
â”‚       â”‚   â””â”€â”€ web
â”‚       â”‚       â””â”€â”€ response.go
â”‚       â”œâ”€â”€ ports
â”‚       â”‚   â””â”€â”€ repository.go
â”‚       â””â”€â”€ services
â”‚           â””â”€â”€ game_service.go
â”œâ”€â”€ codi_i_estructura_digitAIStudios.txt
â”œâ”€â”€ docs
â”‚   â”œâ”€â”€ architecture
â”‚   â”‚   â”œâ”€â”€ game-logic-engine.md
â”‚   â”‚   â”œâ”€â”€ game-mechanics.md
â”‚   â”‚   â””â”€â”€ project-structure.md
â”‚   â””â”€â”€ features
â”‚       â”œâ”€â”€ 01-lobby-roles.md
â”‚       â”œâ”€â”€ 02-investigation-board.md
â”‚       â”œâ”€â”€ 03-scene-exploration.md
â”‚       â”œâ”€â”€ 04-interrogation-system.md
â”‚       â”œâ”€â”€ 05-timeline-editor.md
â”‚       â”œâ”€â”€ 06-forensic-tools.md
â”‚       â””â”€â”€ 07-accusation-flow.md
â”œâ”€â”€ frontend
â”‚   â”œâ”€â”€ .git
â”‚   â”‚   â”œâ”€â”€ COMMIT_EDITMSG
â”‚   â”‚   â”œâ”€â”€ config
â”‚   â”‚   â”œâ”€â”€ description
â”‚   â”‚   â”œâ”€â”€ FETCH_HEAD
â”‚   â”‚   â”œâ”€â”€ HEAD
â”‚   â”‚   â”œâ”€â”€ hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ applypatch-msg.sample
â”‚   â”‚   â”‚   â”œâ”€â”€ commit-msg.sample
â”‚   â”‚   â”‚   â”œâ”€â”€ fsmonitor-watchman.sample
â”‚   â”‚   â”‚   â”œâ”€â”€ post-update.sample
â”‚   â”‚   â”‚   â”œâ”€â”€ pre-applypatch.sample
â”‚   â”‚   â”‚   â”œâ”€â”€ pre-commit.sample
â”‚   â”‚   â”‚   â”œâ”€â”€ pre-merge-commit.sample
â”‚   â”‚   â”‚   â”œâ”€â”€ pre-push.sample
â”‚   â”‚   â”‚   â”œâ”€â”€ pre-rebase.sample
â”‚   â”‚   â”‚   â”œâ”€â”€ pre-receive.sample
â”‚   â”‚   â”‚   â”œâ”€â”€ prepare-commit-msg.sample
â”‚   â”‚   â”‚   â”œâ”€â”€ push-to-checkout.sample
â”‚   â”‚   â”‚   â”œâ”€â”€ sendemail-validate.sample
â”‚   â”‚   â”‚   â””â”€â”€ update.sample
â”‚   â”‚   â”œâ”€â”€ index
â”‚   â”‚   â”œâ”€â”€ info
â”‚   â”‚   â”‚   â””â”€â”€ exclude
â”‚   â”‚   â”œâ”€â”€ logs
â”‚   â”‚   â”‚   â”œâ”€â”€ HEAD
â”‚   â”‚   â”‚   â””â”€â”€ refs
â”‚   â”‚   â”‚       â””â”€â”€ heads
â”‚   â”‚   â”‚           â””â”€â”€ master
â”‚   â”‚   â”œâ”€â”€ objects
â”‚   â”‚   â”‚   â”œâ”€â”€ 00
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ 4145cddf3f9db91b57b9cb596683c8eb420862
â”‚   â”‚   â”‚   â”œâ”€â”€ 05
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ e726d1b4201bc8c7716d2b058279676582e8c0
â”‚   â”‚   â”‚   â”œâ”€â”€ 29
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ 5f8fdf14fcfe6cccaa832133037157521b1890
â”‚   â”‚   â”‚   â”œâ”€â”€ 3a
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ 13f90a773b0facb675bf5b1a8239c8f33d36f5
â”‚   â”‚   â”‚   â”œâ”€â”€ 43
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ 52c79f2e5852aff8b46e2ba1b3963c6b96e4bd
â”‚   â”‚   â”‚   â”œâ”€â”€ 4d
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ b9c27c6eb63a31a21788152612e5add83b5314
â”‚   â”‚   â”‚   â”œâ”€â”€ 51
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ 74b28c565c285e3e312ec5178be64fbeca8398
â”‚   â”‚   â”‚   â”œâ”€â”€ 56
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ 7f17b0d7c7fb662c16d4357dd74830caf2dccb
â”‚   â”‚   â”‚   â”œâ”€â”€ 5e
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ f6a520780202a1d6addd833d800ccb1ecac0bb
â”‚   â”‚   â”‚   â”œâ”€â”€ 61
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ e36849cf7cfa9f1f71b4a3964a4953e3e243d3
â”‚   â”‚   â”‚   â”œâ”€â”€ 71
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ 8d6fea4835ec2d246af9800eddb7ffb276240c
â”‚   â”‚   â”‚   â”œâ”€â”€ 77
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ 053960334e2e34dc584dea8019925c3b4ccca9
â”‚   â”‚   â”‚   â”œâ”€â”€ 85
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ce9cd91bc8c8b0f6581215febc55589f9ee255
â”‚   â”‚   â”‚   â”œâ”€â”€ a1
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ 9669476e1cf7668b3629c97e2e017c0d8b2fd5
â”‚   â”‚   â”‚   â”œâ”€â”€ a2
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ dc41ecee5ec435200fe7cba2bde4107f823774
â”‚   â”‚   â”‚   â”œâ”€â”€ aa
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ad6f9e6e9b2262b043340091540f96d909e849
â”‚   â”‚   â”‚   â”œâ”€â”€ b2
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ b2a44f6ebc70c450043c05a002e7a93ba5d651
â”‚   â”‚   â”‚   â”œâ”€â”€ c8
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ 8f389de09f418da376598c42e8788d4fb6d172
â”‚   â”‚   â”‚   â”œâ”€â”€ e2
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ 15bc4ccf138bbc38ad58ad57e92135484b3c0f
â”‚   â”‚   â”‚   â”œâ”€â”€ e9
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ffa3083ad279ecf95fd8eae59cb253e9a539c4
â”‚   â”‚   â”‚   â”œâ”€â”€ f7
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ fa87eb875260ed98651bc419c8139b5119e554
â”‚   â”‚   â”‚   â”œâ”€â”€ info
â”‚   â”‚   â”‚   â””â”€â”€ pack
â”‚   â”‚   â””â”€â”€ refs
â”‚   â”‚       â”œâ”€â”€ heads
â”‚   â”‚       â”‚   â””â”€â”€ master
â”‚   â”‚       â””â”€â”€ tags
â”‚   â”œâ”€â”€ .github
â”‚   â”‚   â””â”€â”€ workflows
â”‚   â”‚       â””â”€â”€ ci.yml
â”‚   â”œâ”€â”€ .gitignore
â”‚   â”œâ”€â”€ app
â”‚   â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”‚   â”œâ”€â”€ globals.css
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ backend
â”‚   â”‚   â””â”€â”€ internal
â”‚   â”‚       â””â”€â”€ platform
â”‚   â”‚           â”œâ”€â”€ http
â”‚   â”‚           â””â”€â”€ web
â”‚   â”‚               â””â”€â”€ response.go
â”‚   â”œâ”€â”€ eslint.config.mjs
â”‚   â”œâ”€â”€ features
â”‚   â”‚   â”œâ”€â”€ accusation
â”‚   â”‚   â”‚   â”œâ”€â”€ components
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ logic
â”‚   â”‚   â”‚   â””â”€â”€ __tests__
â”‚   â”‚   â”œâ”€â”€ board
â”‚   â”‚   â”‚   â”œâ”€â”€ components
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ logic
â”‚   â”‚   â”‚   â””â”€â”€ __tests__
â”‚   â”‚   â”œâ”€â”€ forensic
â”‚   â”‚   â”‚   â”œâ”€â”€ components
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ logic
â”‚   â”‚   â”‚   â””â”€â”€ __tests__
â”‚   â”‚   â”œâ”€â”€ interrogation
â”‚   â”‚   â”‚   â”œâ”€â”€ components
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ logic
â”‚   â”‚   â”‚   â””â”€â”€ __tests__
â”‚   â”‚   â”œâ”€â”€ lobby
â”‚   â”‚   â”‚   â”œâ”€â”€ components
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ logic
â”‚   â”‚   â”‚   â””â”€â”€ __tests__
â”‚   â”‚   â”œâ”€â”€ scene
â”‚   â”‚   â”‚   â”œâ”€â”€ components
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ logic
â”‚   â”‚   â”‚   â””â”€â”€ __tests__
â”‚   â”‚   â””â”€â”€ timeline
â”‚   â”‚       â”œâ”€â”€ components
â”‚   â”‚       â”œâ”€â”€ hooks
â”‚   â”‚       â”œâ”€â”€ index.ts
â”‚   â”‚       â”œâ”€â”€ logic
â”‚   â”‚       â””â”€â”€ __tests__
â”‚   â”œâ”€â”€ frontend
â”‚   â”‚   â”œâ”€â”€ components
â”‚   â”‚   â”‚   â””â”€â”€ ui
â”‚   â”‚   â”‚       â””â”€â”€ button.tsx
â”‚   â”‚   â””â”€â”€ lib
â”‚   â”‚       â””â”€â”€ utils.ts
â”‚   â”œâ”€â”€ next-env.d.ts
â”‚   â”œâ”€â”€ next.config.ts
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ postcss.config.mjs
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â””â”€â”€ vitest.config.ts
â”œâ”€â”€ frontend_AGENTS_backup.md
â”œâ”€â”€ Makefile
â”œâ”€â”€ merge.js
â””â”€â”€ tests
    â””â”€â”€ e2e
        â””â”€â”€ game_flow.spec.ts


CONTINGUT DELS FITXERS


// =================== FILE: frontend/app/globals.css ===================

@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}


// =================== FILE: frontend/app/layout.tsx ===================

import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
      >
        {children}
      </body>
    </html>
  );
}


// =================== FILE: frontend/app/page.tsx ===================

import Image from "next/image";

export default function Home() {
  return (
    <div className="flex min-h-screen items-center justify-center bg-zinc-50 font-sans dark:bg-black">
      <main className="flex min-h-screen w-full max-w-3xl flex-col items-center justify-between py-32 px-16 bg-white dark:bg-black sm:items-start">
        <Image
          className="dark:invert"
          src="/next.svg"
          alt="Next.js logo"
          width={100}
          height={20}
          priority
        />
        <div className="flex flex-col items-center gap-6 text-center sm:items-start sm:text-left">
          <h1 className="max-w-xs text-3xl font-semibold leading-10 tracking-tight text-black dark:text-zinc-50">
            To get started, edit the page.tsx file.
          </h1>
          <p className="max-w-md text-lg leading-8 text-zinc-600 dark:text-zinc-400">
            Looking for a starting point or more instructions? Head over to{" "}
            <a
              href="https://vercel.com/templates?framework=next.js&utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
              className="font-medium text-zinc-950 dark:text-zinc-50"
            >
              Templates
            </a>{" "}
            or the{" "}
            <a
              href="https://nextjs.org/learn?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
              className="font-medium text-zinc-950 dark:text-zinc-50"
            >
              Learning
            </a>{" "}
            center.
          </p>
        </div>
        <div className="flex flex-col gap-4 text-base font-medium sm:flex-row">
          <a
            className="flex h-12 w-full items-center justify-center gap-2 rounded-full bg-foreground px-5 text-background transition-colors hover:bg-[#383838] dark:hover:bg-[#ccc] md:w-[158px]"
            href="https://vercel.com/new?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
            target="_blank"
            rel="noopener noreferrer"
          >
            <Image
              className="dark:invert"
              src="/vercel.svg"
              alt="Vercel logomark"
              width={16}
              height={16}
            />
            Deploy Now
          </a>
          <a
            className="flex h-12 w-full items-center justify-center rounded-full border border-solid border-black/[.08] px-5 transition-colors hover:border-transparent hover:bg-black/[.04] dark:border-white/[.145] dark:hover:bg-[#1a1a1a] md:w-[158px]"
            href="https://nextjs.org/docs?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
            target="_blank"
            rel="noopener noreferrer"
          >
            Documentation
          </a>
        </div>
      </main>
    </div>
  );
}


// =================== FILE: frontend/features/accusation/index.ts ===================

// Public API for feature: accusation


// =================== FILE: frontend/features/board/index.ts ===================

// Public API for feature: board


// =================== FILE: frontend/features/forensic/index.ts ===================

// Public API for feature: forensic


// =================== FILE: frontend/features/interrogation/index.ts ===================

// Public API for feature: interrogation


// =================== FILE: frontend/features/lobby/index.ts ===================

// Public API for feature: lobby


// =================== FILE: frontend/features/scene/index.ts ===================

// Public API for feature: scene


// =================== FILE: frontend/features/timeline/index.ts ===================

// Public API for feature: timeline


// =================== FILE: frontend/frontend/components/ui/button.tsx ===================

import * as React from "react"
import { cn } from "@/lib/utils"

// Definim variants (podriem usar cva, perÃ² ho fem simple primer)
interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: "primary" | "secondary" | "ghost" | "destructive"
  size?: "sm" | "md" | "lg"
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant = "primary", size = "md", ...props }, ref) => {
    
    const variants = {
      primary: "bg-slate-900 text-white hover:bg-slate-800 shadow-sm",
      secondary: "bg-slate-100 text-slate-900 hover:bg-slate-200",
      ghost: "hover:bg-slate-100 text-slate-700",
      destructive: "bg-red-500 text-white hover:bg-red-600",
    }
    
    const sizes = {
      sm: "h-8 px-3 text-xs",
      md: "h-10 px-4 py-2",
      lg: "h-12 px-8 text-lg",
    }

    return (
      <button
        ref={ref}
        className={cn(
          "inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",
          variants[variant],
          sizes[size],
          className
        )}
        {...props}
      />
    )
  }
)
Button.displayName = "Button"

export { Button }


// =================== FILE: frontend/frontend/lib/utils.ts ===================

import { type ClassValue, clsx } from "clsx"
import { twMerge } from "tailwind-merge"

// Utilitat per combinar classes de Tailwind sense conflictes
export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}


// =================== FILE: frontend/next-env.d.ts ===================

/// <reference types="next" />
/// <reference types="next/image-types/global" />
import "./.next/dev/types/routes.d.ts";

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.


// =================== FILE: frontend/next.config.ts ===================

import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: 'sspb.digitaistudios.com',
        pathname: '/api/files/**',
      },
    ],
  },
};

export default nextConfig;

// =================== FILE: frontend/package.json ===================

{
  "name": "frontend",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "eslint"
  },
  "dependencies": {
    "@xyflow/react": "^12.10.0",
    "clsx": "^2.1.1",
    "framer-motion": "^12.27.1",
    "howler": "^2.2.4",
    "lucide-react": "^0.562.0",
    "next": "16.1.3",
    "pocketbase": "^0.26.6",
    "react": "19.2.3",
    "react-dom": "19.2.3",
    "tailwind-merge": "^3.4.0"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4",
    "@testing-library/dom": "^10.4.1",
    "@testing-library/react": "^16.3.2",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "@vitejs/plugin-react": "^5.1.2",
    "eslint": "^9",
    "eslint-config-next": "16.1.3",
    "jsdom": "^27.4.0",
    "tailwindcss": "^4",
    "typescript": "^5",
    "vitest": "^4.0.17"
  }
}


// =================== FILE: frontend/tsconfig.json ===================

{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "baseUrl": ".",  // <--- AQUESTA Ã©s la lÃ­nia clau que et faltava
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts",
    "**/*.mts"
  ],
  "exclude": ["node_modules"]
}

// =================== FILE: frontend/vitest.config.ts ===================

import { defineConfig } from 'vitest/config'
import react from '@vitejs/plugin-react'
import { resolve } from 'path'

export default defineConfig({
  plugins: [react()],
  test: {
    environment: 'jsdom',
    globals: true,
    include: ['features/**/*.{test,spec}.{js,mjs,cjs,ts,mts,cts,jsx,tsx}'],
    alias: {
      '@': resolve(__dirname, './')
    }
  },
})


// =================== FILE: merge.js ===================

import { readdirSync, statSync, readFileSync, writeFileSync } from "fs";
import { join, extname } from "path";

// --- ConfiguraciÃ³ ---
const rootFolder = "./";
const outputFile = "codi_i_estructura_crims-project.txt";
const extensionsToInclude = [".ts", ".tsx", ".js", ".jsx", ".css", ".json", ".sql"];

const ignoreList = [
  "public",
  "node_modules",
  ".next",
  "dist",
  "build",
  ".DS_Store",
  "package-lock.json",
  "pnpm-lock.yaml",
];

let treeOutput = `ESTRUCTURA DEL PROJECTE (./src)\n\n`;
let contentOutput = "\n\nCONTINGUT DELS FITXERS\n";

function processDirectory(dir, prefix = "") {
  // Llegim i filtrem els arxius i carpetes del directori actual
  const items = readdirSync(dir).filter(item => !ignoreList.includes(item));

  items.forEach((item, index) => {
    const fullPath = join(dir, item);
    const stat = statSync(fullPath);
    const isLast = index === items.length - 1;

    // Afegim la lÃ­nia corresponent a l'arbre de directoris
    treeOutput += `${prefix}${isLast ? "â””â”€â”€ " : "â”œâ”€â”€ "}${item}\n`;

    if (stat.isDirectory()) {
      // Si Ã©s un directori, fem la crida recursiva amb el nou prefix
      const newPrefix = prefix + (isLast ? "    " : "â”‚   ");
      processDirectory(fullPath, newPrefix);
    } else if (extensionsToInclude.includes(extname(item))) {
      // Si Ã©s un fitxer vÃ lid, llegim el seu contingut
      const normalizedPath = fullPath.replace(/\\/g, "/");
      contentOutput += `\n\n// =================== FILE: ${normalizedPath} ===================\n\n`;
      contentOutput += readFileSync(fullPath, "utf8");
    }
  });
}

try {
  console.log("ðŸŒ³ Generant l'arbre de directoris i llegint fitxers...");
  processDirectory(rootFolder);

  // Unim l'arbre i el contingut en un sol fitxer
  const finalOutput = treeOutput + contentOutput;

  writeFileSync(outputFile, finalOutput);
  console.log(`âœ… Fitxer creat amb Ã¨xit: ${outputFile}`);
} catch (error) {
  console.error("âŒ Hi ha hagut un error en crear el fitxer:", error);
}

// =================== FILE: tests/e2e/game_flow.spec.ts ===================

// Test complet: Login -> Entrar a sala -> Moure pista
